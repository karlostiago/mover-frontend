<div class="row g-3">
    <div class="col-md-12 mb-10">
        <div class="card">
            <div class="card-body">
                <p-table #table [value]="data" [paginator]="data.length > 4" [rows]="4"
                         responsiveLayout="stack" [breakpoint]="'1300px'"
                         rowGroupMode="subheader"
                         groupRowsBy="history.brand"
                         styleClass="p-datatable-striped p-datatable p-datatable-gridlines">
                    <ng-template pTemplate="header">
                        <tr *ngIf="data.length > 0">
                            <th class="text-left">MÊS REFERÊNCIA</th>
                            <th class="text-center">ANO REFERÊNCIA</th>
                            <th class="text-center">CÓDIGO FIPE</th>
                            <th class="text-center">MARCA</th>
                            <th class="text-center">MODELO</th>
                            <th class="text-center">PREÇO MÉDIO</th>
                        </tr>
                    </ng-template>

                    <ng-template pTemplate="body" let-history>
                        <tr>
                            <td class="text-left">
                                <span class="p-column-title">MÊS REFE.</span>
                                {{ history['monthReference'] }}
                            </td>
                            <td class="text-center">
                                <span class="p-column-title">ANO REFE.</span>
                                {{ history['year'] }}
                            </td>
                            <td class="text-center">
                                <span class="p-column-title">CÓD. FIPE</span>
                                {{ history['fipeCode'] }}
                            </td>
                            <td class="text-center">
                                <span class="p-column-title">MARCA</span>
                                {{ history['brand'] }}
                            </td>
                            <td class="text-center">
                                <span class="p-column-title">MODELO</span>
                                {{ history['model'] }}
                            </td>
                            <td class="text-center">
                                <span class="p-column-title">PREÇO MÉDIO</span>
                                {{ history['price'] | currency:'BRL':'symbol':'1.2-2':'pt-BR' }}
                            </td>
                        </tr>
                    </ng-template>

                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="6" style="text-align: center;">
                                Nenhum registro encontrado.
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</div>
