<div class="row g-3">
    <div class="col-md-12 mb-10">
        <div class="card">
            <div class="card-body">
                <p-table [value]="data"
                         responsiveLayout="stack" [breakpoint]="'1300px'"
                         rowGroupMode="subheader"
                         groupRowsBy="vehicleFullname"
                         sortMode="single"
                         sortField="vehicleFullname"
                         [scrollable]="true"
                         scrollHeight="500px"
                         styleClass="p-datatable-striped p-datatable p-datatable-gridlines">
                    <ng-template pTemplate="header">
                        <tr *ngIf="data.length > 0">
                            <th class="text-left">MÊS REFERÊNCIA</th>
                            <th class="text-center">PREÇO MÉDIO</th>
                        </tr>
                    </ng-template>

                    <ng-template pTemplate="groupheader" let-history>
                        <tr pRowGroupHeader>
                            <td colspan="6">
                                <strong>{{ history['vehicleFullname'] }}</strong>
                            </td>
                        </tr>
                    </ng-template>

                    <ng-template pTemplate="body" let-history>
                        <tr>
                            <td class="text-left">
                                <span class="p-column-title">MÊS REFE.</span>
                                {{ history['monthReference'] }}
                            </td>
                            <td class="text-center">
                                <span class="p-column-title">PREÇO MÉDIO</span>
                                {{ history['price'] | currency:'BRL':'symbol':'1.2-2':'pt-BR' }}
                            </td>
                        </tr>
                    </ng-template>

                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="2" style="text-align: center;">
                                Nenhum registro encontrado.
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</div>
